(window.webpackJsonp=window.webpackJsonp||[]).push([[59],{258:function(e,s,n){"use strict";n.r(s);var a=n(0),t=Object(a.a)({},(function(){var e=this,s=e.$createElement,n=e._self._c||s;return n("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[n("h1",{attrs:{id:"nacos"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#nacos"}},[e._v("#")]),e._v(" nacos")]),e._v(" "),n("p",[e._v("  以单机模式启动"),n("code",[e._v("startup.cmd -m standalone")]),e._v("。或者修改"),n("code",[e._v("startup.cmd")]),e._v("配置文件，修改如下。")]),e._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v('set MODE="cluster" ---\x3e set MODE="standalone"\n')])])]),n("p",[e._v("  nacos默认启动时，使用的使内存存储，重启时会导致我们所做的配置丢失。因此我们需要指定nacos的mysql数据源，对配置进行持久化处理。修改如下。")]),e._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v("#*************** Config Module Related Configurations ***************#\n### If use MySQL as datasource:\n# spring.datasource.platform=mysql\n\n### Count of DB:\n# db.num=1\n\n### Connect URL of DB:\n# db.url.0=jdbc:mysql://127.0.0.1:3306/nacos?characterEncoding=utf8&connectTimeout=1000&socketTimeout=3000&autoReconnect=true&useUnicode=true&useSSL=false&serverTimezone=UTC\n# db.user.0=nacos\n# db.password.0=nacos\n")])])]),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v("#*************** Config Module Related Configurations ***************#\n### If use MySQL as datasource:\n# spring.datasource.platform=mysql\n\n### Count of DB:\n# db.num=1\n\n### Connect URL of DB:\n# db.url.0=jdbc:mysql://127.0.0.1:3306/nacos?characterEncoding=utf8&connectTimeout=1000&socketTimeout=3000&autoReconnect=true&useUnicode=true&useSSL=false&serverTimezone=UTC\n# db.user.0=nacos\n# db.password.0=nacos\n")])])]),n("p",[e._v("  启动后，发现页面一直在加载，控制台也不报错。发生在nacos.jar中使用的mysql-connector-java是8.x版本，而我本地的是mysql5.7，这样一看是mysql驱动的问题。")]),e._v(" "),n("p",[e._v("  在与bin同级的目录下，创建"),n("code",[e._v("plugins/mysql")]),e._v("目录，在其他放入mysql.jar即可。")])])}),[],!1,null,null,null);s.default=t.exports}}]);