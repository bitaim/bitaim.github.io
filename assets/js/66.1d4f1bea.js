(window.webpackJsonp=window.webpackJsonp||[]).push([[66],{266:function(e,s,n){"use strict";n.r(s);var t=n(0),r=Object(t.a)({},(function(){var e=this,s=e.$createElement,n=e._self._c||s;return n("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[n("p",[e._v("redis")]),e._v(" "),n("p",[n("code",[e._v("yum install -y gcc-c++")])]),e._v(" "),n("p",[n("code",[e._v("tar -zxvf redis-6.0.9.tar.gz")])]),e._v(" "),n("p",[n("code",[e._v("cd redis-6.0.9")])]),e._v(" "),n("p",[n("code",[e._v("make")])]),e._v(" "),n("p",[e._v("安装到指定目录"),n("code",[e._v("make PREFIX=/usr/local/redis/ install")]),e._v("，此时redis目录下就会有一个bin目录，里面是常用的命令。")]),e._v(" "),n("p",[e._v("复制原先解压后的目录下的redis.conf到/usr/local/redis/bin 下")]),e._v(" "),n("p",[e._v("redis-server redis.conf")]),e._v(" "),n("div",{staticClass:"language-conf extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v("# 只接收来自该IP的请求，多个ip可以用逗号隔开\nbind 0.0.0.0\n# 保护模式一定要开\nprotected-mode yes\n# 开启守护进程\ndaemonize yes\n# 设置密码\nrequirepass 123456\n# 备份文件名\ndbfilename back.rdb\n# 存储文件的目录\ndir\n# 最大客户端连接数\nmaxclients \n# 设置最大内存\nmaxmemory\n")])])]),n("p",[e._v("配置开机启动")]),e._v(" "),n("p",[n("code",[e._v("vim /etc/systemd/system/redis.service")])]),e._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v("[Unit]\nDescription=redis-server\nAfter=network.target\n\n[Service]\nType=forking\nExecStart=/usr/local/redis/bin/redis-server /usr/local/redis/bin/redis.conf\nPrivateTmp=true\n\n[Install]\nWantedBy=multi-user.target\n")])])]),n("p",[e._v("重载系统服务\nsystemctl daemon-reload")]),e._v(" "),n("p",[e._v("开启 systemctl start redis.service\n关闭 systemctl stop redis.service\n开机自启动 systemctl enable redis.service")]),e._v(" "),n("p",[e._v("安装Redis6.x版本，需要升级gcc版本。上面的安装依赖命令，其版本是4.8.5，版本过低在编译时会报错。执行一下命令进行升级。小于6.0跳过该步骤。")]),e._v(" "),n("div",{staticClass:"language-conf extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v("# 安装scl源\nyum install -y centos-release-scl scl-utils-build\n# 安装9版本的gcc\nyum install -y devtoolset-9-toolchain\n# 临时覆盖系统原有的gcc引用\nscl enable devtoolset-9 bash\n# 查看gcc版本\ngcc -v\n")])])])])}),[],!1,null,null,null);s.default=r.exports}}]);